<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>FRP with Bacon.js</title>

		<meta name="description" content="FRP with Bacon.js">
		<meta name="author" content="Juha Paananen">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<link rel="stylesheet" href="css/bacon.css">
		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
<div class="slides">
  <section>
    <h2>FRP with Bacon.js</h2>
    <p>Juha Paananen / Reaktor</p>
  </section>

  <section>
    <h1>FRP</h1>
      <p class="fragment">a paradigm</p>
  </section>

  <section>
    <h2>FP - Lists</h2>
    <h2>FRP - Events</h2>
  </section>
  
  <section>
    <h2>Imperative code</h2>
    <pre><code contenteditable>
      List<Employee> managers = new ArrayList()
      for (Employee employee : employees) {
        if (employee.title.equals("manager")) {
          managers.add(e);
        }
      }
      return managers;
    </code></pre>
    <p>variables, loops, ifs, mutable data structures</p>
  </section>

  <section>
    <h2>FP</h2>
    <pre><code contenteditable>

    employees.filter(_.title == "manager")

    </code></pre>
  </section>

  <section>
    <h1>FRP</h1>
  </section>

  <section>
    <h2>Callback hell</h2>
    <img class="bacon fragment" src="images/bacon.png">
    <pre><code contenteditable>
      $.ajax("/cats").done(function(cats) {
        $.ajax("/dogs").done(function(dogs) {
          doStuffWithCatsAndDogs(cats, dogs)
        })
      })
    </code></pre>
    <p>Imagine adding giraffes and bats</p>
  </section>
  <section >
    <h2>State hell</h2>
    <img class="bacon fragment" src="images/bacon.png">
    <pre><code contenteditable>
      var active = true;
      var timeout = null;
      function setInactive() {
        active = false;
      }

      $(window).on('keydown mousemove', function() {
        active = true;
        clearTimeout(timeout);
        timeout = setTimeout(setInactive, 30000);
      })
    </code></pre>
    <p>variables: 2</p>
  </section>
  
  <section>
    <h1>Bacon.js</h1>
      <p class="fragment">a library</p>
  </section>

  <section>
    <h2>Not a framework</h2>
  </section>
  <section>
    <h2>Not a jQuery plugin</h2>
  </section>
  <section>
    <h2>Not an insult</h2>
  </section>

  <section>
    <h2>~ is moar liek _</h2>
  </section>

  <section>
     <h1>EventStream</h1>
     <p class="fragment">Source of events</p>
  </section>
  
  <section>
     <h1>EventStream</h1>
     <p >Observable</p>
  </section>
  
  <section>
     <h1>EventStream</h1>
     <p>map, filter, merge, concat, flatMap</p>
  </section>
  
  <section>
    <h1 class="eventstream-demo">Demo</h1>
    <p class="notes">
    keyups, map, filter
    "wanna see flatMap"?
    later, sequentialy
    flatmap
    delay
    throttle
    </p>
  </section>
  
  <section>
     <h1>Property</h1>
     <p>time-varying value</p>
  </section>
  
  <section>
     <h1>Property</h1>
     <p>Observable</p>
  </section>
  
  <section>
     <h1>Property</h1>
     <p>map, combine, flatMap</p>
  </section>
  
  <section>
     <h2>keyUp = Event</h2>
     <h2>keyState = Property</h2>
  </section>
  
  <section>
    <h1 class="property-demo">A=65 Q=81</h1>
    <p class="notes">
    keyUps(65).map(false).merge(keyDowns(65).map(true)).skipDuplicates().toProperty(false)
    </p>
  </section>
  <section>
    <h1>Callback hell?</h1>
  </section>
  
  <section>
  <h2>Bring the whole zoo</h2>
    <pre><code contenteditable>
      var cats = Bacon.UI.ajax("/cats").toProperty()
      var dogs = Bacon.UI.ajax("/dogs").toProperty()
      Bacon.combineAsArray(cats, dogs)
           .onValues(doStuffWithCatsAndDogs)
    </code></pre>
  </section>
  
  <section>
    <h1>State hell?</h1>
  </section>

  <section data-state="statehell">
    <h2 class="state-demo">Variables: 0</h2>
    <pre><code contenteditable>

var activity = $(window).asEventStream('mousemove keydown')
var timeout = activity.throttle(30000)
var active = activity.awaiting(timeout)

    </code></pre>
  </section>

  <section>
    <h1>K THX BYE</h1>
  </section>

  <section>
    <h2>Bacon.js</h2>
    <h2>@raimohanska</h2>
  </section>


			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
		<script src="js/jquery.js"></script>
		<script src="js/Bacon.js"></script>
		<script src="js/Bacon.UI.js"></script>

		<script>
			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>
    <script src="bacon-preso.js">
    </script>

	</body>
</html>
